<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_75) on Tue May 10 17:35:41 EDT 2016 -->
<title>Chat</title>
<meta name="date" content="2016-05-10">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Chat";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="BlockAssembler.html" title="class in &lt;Unnamed&gt;"><span class="strong">Prev Class</span></a></li>
<li><a href="Client.html" title="class in &lt;Unnamed&gt;"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?Chat.html" target="_top">Frames</a></li>
<li><a href="Chat.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h2 title="Class Chat" class="title">Class Chat</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Chat</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Chat</span>
extends java.lang.Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="Chat.html#blockIndex">blockIndex</a></strong></code>
<div class="block">The index of blocks of data I've sent.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="Client.html" title="class in &lt;Unnamed&gt;">Client</a></code></td>
<td class="colLast"><code><strong><a href="Chat.html#client">client</a></strong></code>
<div class="block">Reference to client which is in this chat.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="Chat.html#hostID">hostID</a></strong></code>
<div class="block">Identifier of the current client.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="Chat.html#keepAliveTime">keepAliveTime</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="Chat.html#MAX_UNCHOKE">MAX_UNCHOKE</a></strong></code>
<div class="block">Maximum number of unchoked peers</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="Chat.html#name">name</a></strong></code>
<div class="block">Name of group chat</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.HashMap&lt;<a href="Peer.html" title="class in &lt;Unnamed&gt;">Peer</a>,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><strong><a href="Chat.html#notAlivePeers">notAlivePeers</a></strong></code>
<div class="block">A hashset that stores peers which didn't respond to the keepalive</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="Peer.html" title="class in &lt;Unnamed&gt;">Peer</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="Chat.html#peers">peers</a></strong></code>
<div class="block">Peers currently participating in this group chat</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="RequestTracker.html" title="class in &lt;Unnamed&gt;">RequestTracker</a></code></td>
<td class="colLast"><code><strong><a href="Chat.html#requestTracker">requestTracker</a></strong></code>
<div class="block">An object used to track requests made.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="Chat.html#sequenceNumber">sequenceNumber</a></strong></code>
<div class="block">Sequence number of messages sent from current host
 Goes up by one for each message sent.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.HashSet&lt;<a href="Peer.html" title="class in &lt;Unnamed&gt;">Peer</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="Chat.html#unchokedPeers">unchokedPeers</a></strong></code>
<div class="block">Set of unchoked peers.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="Chat.html#Chat(Client,%20Group,%20int)">Chat</a></strong>(<a href="Client.html" title="class in &lt;Unnamed&gt;">Client</a>&nbsp;client,
    <a href="Group.html" title="class in &lt;Unnamed&gt;">Group</a>&nbsp;group,
    int&nbsp;hostID)</code>
<div class="block">Creates a group chat from the given Group.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#beInterested()">beInterested</a></strong>()</code>
<div class="block">Send INTERESTED packets to peers who have packets I want.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a></code></td>
<td class="colLast"><code><strong><a href="Chat.html#beJealous(Peer)">beJealous</a></strong>(<a href="Peer.html" title="class in &lt;Unnamed&gt;">Peer</a>&nbsp;peer)</code>
<div class="block">Gets a message that I want from a peer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="Peer.html" title="class in &lt;Unnamed&gt;">Peer</a></code></td>
<td class="colLast"><code><strong><a href="Chat.html#checkAddressBook(int)">checkAddressBook</a></strong>(int&nbsp;peerID)</code>
<div class="block">Searches for the peer with requested ID</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#checkKeepAlive()">checkKeepAlive</a></strong>()</code>
<div class="block">Check if any peer has failed to respond to KEEPALIVE thrice.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#fillKeepAlive()">fillKeepAlive</a></strong>()</code>
<div class="block">Fill notAlivePeers prior to iterating over.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a></code></td>
<td class="colLast"><code><strong><a href="Chat.html#getMessage(int,%20int)">getMessage</a></strong>(int&nbsp;senderID,
          int&nbsp;sequenceNumber)</code>
<div class="block">Retrieves a message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#have(Message,%20int)">have</a></strong>(<a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;message,
    int&nbsp;careOf)</code>
<div class="block">Have fully downloaded / created a new message, so now am free and to send it out.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#makeFriend(User)">makeFriend</a></strong>(<a href="User.html" title="class in &lt;Unnamed&gt;">User</a>&nbsp;user)</code>
<div class="block">Add peer for given user to list of peers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#markAlive(int)">markAlive</a></strong>(int&nbsp;peerID)</code>
<div class="block">Mark a peer ALIVE in response to a ALIVE message.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#newBlock(byte[])">newBlock</a></strong>(byte[]&nbsp;block)</code>
<div class="block">A new block (file/binary) has been written and must be sent out</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#newBlock(Message.Type,%20byte[],%20int)">newBlock</a></strong>(<a href="Message.Type.html" title="enum in &lt;Unnamed&gt;">Message.Type</a>&nbsp;type,
        byte[]&nbsp;block,
        int&nbsp;blockIndex)</code>
<div class="block">Send out a bunch of bytes, to everyone.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#newBlock(java.lang.String)">newBlock</a></strong>(java.lang.String&nbsp;block)</code>
<div class="block">A new block (text) has been written and must be sent out</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#newPiece(Message.Type,%20byte[],%20int,%20int,%20int)">newPiece</a></strong>(<a href="Message.Type.html" title="enum in &lt;Unnamed&gt;">Message.Type</a>&nbsp;type,
        byte[]&nbsp;piece,
        int&nbsp;blockIndex,
        int&nbsp;pieceCount,
        int&nbsp;blockOffset)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#peerCanceled(int)">peerCanceled</a></strong>(int&nbsp;peerID)</code>
<div class="block">Notification that the peer has canceled a request for unchoking.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#peerChoked(int)">peerChoked</a></strong>(int&nbsp;peerID)</code>
<div class="block">Notification that the peer has choked this client.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#peerHas(int,%20Message)">peerHas</a></strong>(int&nbsp;peerID,
       <a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;message)</code>
<div class="block">Notification has arrived that another client has a message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#peerIsInterested(int,%20Message)">peerIsInterested</a></strong>(int&nbsp;peerID,
                <a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;message)</code>
<div class="block">Someone is interested in something I have.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#peerRequestedMessage(int,%20Message)">peerRequestedMessage</a></strong>(int&nbsp;peerID,
                    <a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;message)</code>
<div class="block">A peer requested I send a message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#peerUnchoked(int)">peerUnchoked</a></strong>(int&nbsp;peerID)</code>
<div class="block">Notification that the peer has unchoked this client, due to a request for the specified message</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#sendAlive(int)">sendAlive</a></strong>(int&nbsp;peerID)</code>
<div class="block">Respond to KEEPALIVE message with and ALIVE message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#sendKeepAlive()">sendKeepAlive</a></strong>()</code>
<div class="block">Send KEEPALIVE messages to all the peers in this chat.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="Chat.html#shouldPrintMessage(Message)">shouldPrintMessage</a></strong>(<a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;message)</code>
<div class="block">Print the message? Only if it's the next in line.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Chat.html#storeMessage(Message)">storeMessage</a></strong>(<a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;message)</code>
<div class="block">Stores a message in the messages data structure.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="Chat.html#whatsHisName(int)">whatsHisName</a></strong>(int&nbsp;userID)</code>
<div class="block">Looks up someone's name by ID number.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAX_UNCHOKE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_UNCHOKE</h4>
<pre>public final&nbsp;int MAX_UNCHOKE</pre>
<div class="block">Maximum number of unchoked peers</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="constant-values.html#Chat.MAX_UNCHOKE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="hostID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hostID</h4>
<pre>public&nbsp;int hostID</pre>
<div class="block">Identifier of the current client.</div>
</li>
</ul>
<a name="sequenceNumber">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sequenceNumber</h4>
<pre>public&nbsp;int sequenceNumber</pre>
<div class="block">Sequence number of messages sent from current host
 Goes up by one for each message sent.</div>
</li>
</ul>
<a name="blockIndex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockIndex</h4>
<pre>public&nbsp;int blockIndex</pre>
<div class="block">The index of blocks of data I've sent.</div>
</li>
</ul>
<a name="peers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peers</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="Peer.html" title="class in &lt;Unnamed&gt;">Peer</a>&gt; peers</pre>
<div class="block">Peers currently participating in this group chat</div>
</li>
</ul>
<a name="name">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>public&nbsp;java.lang.String name</pre>
<div class="block">Name of group chat</div>
</li>
</ul>
<a name="client">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>client</h4>
<pre>public&nbsp;<a href="Client.html" title="class in &lt;Unnamed&gt;">Client</a> client</pre>
<div class="block">Reference to client which is in this chat.</div>
</li>
</ul>
<a name="unchokedPeers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unchokedPeers</h4>
<pre>public&nbsp;java.util.HashSet&lt;<a href="Peer.html" title="class in &lt;Unnamed&gt;">Peer</a>&gt; unchokedPeers</pre>
<div class="block">Set of unchoked peers. This should never get bigger than 4.</div>
</li>
</ul>
<a name="requestTracker">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestTracker</h4>
<pre>public&nbsp;<a href="RequestTracker.html" title="class in &lt;Unnamed&gt;">RequestTracker</a> requestTracker</pre>
<div class="block">An object used to track requests made.</div>
</li>
</ul>
<a name="notAlivePeers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notAlivePeers</h4>
<pre>public&nbsp;java.util.HashMap&lt;<a href="Peer.html" title="class in &lt;Unnamed&gt;">Peer</a>,java.lang.Integer&gt; notAlivePeers</pre>
<div class="block">A hashset that stores peers which didn't respond to the keepalive</div>
</li>
</ul>
<a name="keepAliveTime">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>keepAliveTime</h4>
<pre>public&nbsp;long keepAliveTime</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Chat(Client, Group, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Chat</h4>
<pre>public&nbsp;Chat(<a href="Client.html" title="class in &lt;Unnamed&gt;">Client</a>&nbsp;client,
    <a href="Group.html" title="class in &lt;Unnamed&gt;">Group</a>&nbsp;group,
    int&nbsp;hostID)</pre>
<div class="block">Creates a group chat from the given Group.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>group</code> - Data from the Server to initialize a chat among peers.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="checkAddressBook(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkAddressBook</h4>
<pre>public&nbsp;<a href="Peer.html" title="class in &lt;Unnamed&gt;">Peer</a>&nbsp;checkAddressBook(int&nbsp;peerID)</pre>
<div class="block">Searches for the peer with requested ID</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>peerID</code> - The identifying number for requested peer.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The Peer with this peerID, or null if that peer doesn't exist</dd></dl>
</li>
</ul>
<a name="peerHas(int, Message)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerHas</h4>
<pre>public&nbsp;void&nbsp;peerHas(int&nbsp;peerID,
           <a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;message)</pre>
<div class="block">Notification has arrived that another client has a message.
 Update the Peer, then possibly request the packet.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>peerID</code> - ID number of peer who has the packet</dd><dd><code>message</code> - The message metadata in question.</dd></dl>
</li>
</ul>
<a name="peerIsInterested(int, Message)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerIsInterested</h4>
<pre>public&nbsp;void&nbsp;peerIsInterested(int&nbsp;peerID,
                    <a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;message)</pre>
<div class="block">Someone is interested in something I have. Check if I actually have it and if I have UNCHOKE spots open.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>peerID</code> - The ID for the peer who is interested</dd><dd><code>message</code> - The message the peer is interested in.</dd></dl>
</li>
</ul>
<a name="getMessage(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessage</h4>
<pre>public&nbsp;<a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;getMessage(int&nbsp;senderID,
                 int&nbsp;sequenceNumber)</pre>
<div class="block">Retrieves a message.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Message with given sender ID and sequence number or null if doesn't exist.
 If currently being downloaded, will return non-null message with null data.</dd></dl>
</li>
</ul>
<a name="storeMessage(Message)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeMessage</h4>
<pre>public&nbsp;void&nbsp;storeMessage(<a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;message)</pre>
<div class="block">Stores a message in the messages data structure.
 Based on the message sender and sequence number.
 Does not assume that the message doesn't already exist or that it should go at the end.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>message</code> - The message to store</dd></dl>
</li>
</ul>
<a name="shouldPrintMessage(Message)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldPrintMessage</h4>
<pre>public&nbsp;boolean&nbsp;shouldPrintMessage(<a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;message)</pre>
<div class="block">Print the message? Only if it's the next in line.</div>
</li>
</ul>
<a name="have(Message, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>have</h4>
<pre>public&nbsp;void&nbsp;have(<a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;message,
        int&nbsp;careOf)</pre>
<div class="block">Have fully downloaded / created a new message, so now am free and to send it out.
 store this message in the chat and publicize its existence to everyone who might care
 In general, publicize only to people who don't already have it and only those who I might</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>message</code> - The Message I now have.</dd><dd><code>careOf</code> - The Peer I received this message through (the id of the actual person who sent it to me)</dd></dl>
</li>
</ul>
<a name="newBlock(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newBlock</h4>
<pre>public&nbsp;void&nbsp;newBlock(java.lang.String&nbsp;block)</pre>
<div class="block">A new block (text) has been written and must be sent out</div>
</li>
</ul>
<a name="newBlock(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newBlock</h4>
<pre>public&nbsp;void&nbsp;newBlock(byte[]&nbsp;block)</pre>
<div class="block">A new block (file/binary) has been written and must be sent out</div>
</li>
</ul>
<a name="newBlock(Message.Type, byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newBlock</h4>
<pre>public&nbsp;void&nbsp;newBlock(<a href="Message.Type.html" title="enum in &lt;Unnamed&gt;">Message.Type</a>&nbsp;type,
            byte[]&nbsp;block,
            int&nbsp;blockIndex)</pre>
<div class="block">Send out a bunch of bytes, to everyone.</div>
</li>
</ul>
<a name="newPiece(Message.Type, byte[], int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newPiece</h4>
<pre>public&nbsp;void&nbsp;newPiece(<a href="Message.Type.html" title="enum in &lt;Unnamed&gt;">Message.Type</a>&nbsp;type,
            byte[]&nbsp;piece,
            int&nbsp;blockIndex,
            int&nbsp;pieceCount,
            int&nbsp;blockOffset)</pre>
</li>
</ul>
<a name="makeFriend(User)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeFriend</h4>
<pre>public&nbsp;void&nbsp;makeFriend(<a href="User.html" title="class in &lt;Unnamed&gt;">User</a>&nbsp;user)</pre>
<div class="block">Add peer for given user to list of peers.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - The Peer's credentials</dd></dl>
</li>
</ul>
<a name="peerChoked(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerChoked</h4>
<pre>public&nbsp;void&nbsp;peerChoked(int&nbsp;peerID)</pre>
<div class="block">Notification that the peer has choked this client.
 Make sure not to send requests to this peer until unchoked.</div>
</li>
</ul>
<a name="whatsHisName(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>whatsHisName</h4>
<pre>public&nbsp;java.lang.String&nbsp;whatsHisName(int&nbsp;userID)</pre>
<div class="block">Looks up someone's name by ID number.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The Peer's name, or "rando" if peer isn't in known peers.</dd></dl>
</li>
</ul>
<a name="beInterested()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beInterested</h4>
<pre>public&nbsp;void&nbsp;beInterested()</pre>
<div class="block">Send INTERESTED packets to peers who have packets I want.</div>
</li>
</ul>
<a name="beJealous(Peer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beJealous</h4>
<pre>public&nbsp;<a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;beJealous(<a href="Peer.html" title="class in &lt;Unnamed&gt;">Peer</a>&nbsp;peer)</pre>
<div class="block">Gets a message that I want from a peer.
 The only important parts of the returned message are senderID and messageCreator.
 Returns null if peer has nothing I want.</div>
</li>
</ul>
<a name="peerUnchoked(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerUnchoked</h4>
<pre>public&nbsp;void&nbsp;peerUnchoked(int&nbsp;peerID)</pre>
<div class="block">Notification that the peer has unchoked this client, due to a request for the specified message</div>
</li>
</ul>
<a name="peerCanceled(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerCanceled</h4>
<pre>public&nbsp;void&nbsp;peerCanceled(int&nbsp;peerID)</pre>
<div class="block">Notification that the peer has canceled a request for unchoking.
 Basically, I should choke this peer.</div>
</li>
</ul>
<a name="peerRequestedMessage(int, Message)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerRequestedMessage</h4>
<pre>public&nbsp;void&nbsp;peerRequestedMessage(int&nbsp;peerID,
                        <a href="Message.html" title="class in &lt;Unnamed&gt;">Message</a>&nbsp;message)</pre>
<div class="block">A peer requested I send a message. This is different
 than <emph>Interested</emph>; to make a request you
 must be unchoked.</br>
 Basically, I should send this message over ASAP</div>
</li>
</ul>
<a name="fillKeepAlive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fillKeepAlive</h4>
<pre>public&nbsp;void&nbsp;fillKeepAlive()</pre>
<div class="block">Fill notAlivePeers prior to iterating over.
 Makes sure all peers are considered when checking KEEPALIVE.</div>
</li>
</ul>
<a name="sendKeepAlive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendKeepAlive</h4>
<pre>public&nbsp;void&nbsp;sendKeepAlive()</pre>
<div class="block">Send KEEPALIVE messages to all the peers in this chat.
 Each peer is sent a KEEPALIVE control packet
 and must respond with an ALIVE control packet
 or it will be marked as dead.</div>
</li>
</ul>
<a name="checkKeepAlive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkKeepAlive</h4>
<pre>public&nbsp;void&nbsp;checkKeepAlive()</pre>
<div class="block">Check if any peer has failed to respond to KEEPALIVE thrice.
 Each peer is checked for 3 KEEPALIVE failures.
 If there are three, then remove the peer.
 Otherwise, increment the number of failed KEEPALIVES.</div>
</li>
</ul>
<a name="sendAlive(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendAlive</h4>
<pre>public&nbsp;void&nbsp;sendAlive(int&nbsp;peerID)</pre>
<div class="block">Respond to KEEPALIVE message with and ALIVE message.
 This will send out an ALIVE response to a KEEPALIVE message.</div>
</li>
</ul>
<a name="markAlive(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>markAlive</h4>
<pre>public&nbsp;void&nbsp;markAlive(int&nbsp;peerID)</pre>
<div class="block">Mark a peer ALIVE in response to a ALIVE message.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="BlockAssembler.html" title="class in &lt;Unnamed&gt;"><span class="strong">Prev Class</span></a></li>
<li><a href="Client.html" title="class in &lt;Unnamed&gt;"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?Chat.html" target="_top">Frames</a></li>
<li><a href="Chat.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
